{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nexport default function useMovies(query) {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const controller = new AbortController();\n    async function fetchData() {\n      try {\n        setIsLoading(true);\n        setError('');\n        const response = await fetch(`http://www.omdbapi.com/?apikey=${KEY}&s=${query}`, {\n          signal: controller.signal\n        });\n        const data = await response.json();\n        setMovies(data.Search);\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n        setError('something went wrong');\n        setMovies([]);\n      }\n    }\n    if (!query.length) {\n      setMovies([]);\n      setError('');\n      return () => {\n        controller.abort();\n      };\n    }\n    handleCloseMovie();\n    fetchData();\n  }, [query]);\n  return [movies, isLoading, error];\n}\n_s(useMovies, \"kVn4JPqM7meh/yhRfeqsDjc0fJc=\");","map":{"version":3,"names":["useEffect","useState","useMovies","query","_s","movies","setMovies","isLoading","setIsLoading","error","setError","controller","AbortController","fetchData","response","fetch","KEY","signal","data","json","Search","console","log","length","abort","handleCloseMovie"],"sources":["/Users/iro/Desktop/ReactPrac/usepopcorn/src/useMovies.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport default function useMovies(query) {\n    const [movies, setMovies] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        const controller = new AbortController();\n\n        async function fetchData() {\n\n            try {\n                setIsLoading(true);\n                setError('');\n                const response = await fetch(`http://www.omdbapi.com/?apikey=${KEY}&s=${query}`,\n                    { signal: controller.signal })\n                const data = await response.json();\n                setMovies(data.Search);\n                setIsLoading(false);\n            }\n            catch (error) {\n                console.log(error);\n                setError('something went wrong');\n                setMovies([]);\n            }\n        }\n\n        if (!query.length) {\n            setMovies([]);\n            setError('');\n            return () => {\n                controller.abort();\n            }\n        }\n        handleCloseMovie();\n        fetchData();\n    }, [query]\n    )\n    return [movies, isLoading, error]\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,eAAe,SAASC,SAASA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACrC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACZ,MAAMW,UAAU,GAAG,IAAIC,eAAe,EAAE;IAExC,eAAeC,SAASA,CAAA,EAAG;MAEvB,IAAI;QACAL,YAAY,CAAC,IAAI,CAAC;QAClBE,QAAQ,CAAC,EAAE,CAAC;QACZ,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,kCAAiCC,GAAI,MAAKb,KAAM,EAAC,EAC3E;UAAEc,MAAM,EAAEN,UAAU,CAACM;QAAO,CAAC,CAAC;QAClC,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;QAClCb,SAAS,CAACY,IAAI,CAACE,MAAM,CAAC;QACtBZ,YAAY,CAAC,KAAK,CAAC;MACvB,CAAC,CACD,OAAOC,KAAK,EAAE;QACVY,OAAO,CAACC,GAAG,CAACb,KAAK,CAAC;QAClBC,QAAQ,CAAC,sBAAsB,CAAC;QAChCJ,SAAS,CAAC,EAAE,CAAC;MACjB;IACJ;IAEA,IAAI,CAACH,KAAK,CAACoB,MAAM,EAAE;MACfjB,SAAS,CAAC,EAAE,CAAC;MACbI,QAAQ,CAAC,EAAE,CAAC;MACZ,OAAO,MAAM;QACTC,UAAU,CAACa,KAAK,EAAE;MACtB,CAAC;IACL;IACAC,gBAAgB,EAAE;IAClBZ,SAAS,EAAE;EACf,CAAC,EAAE,CAACV,KAAK,CAAC,CACT;EACD,OAAO,CAACE,MAAM,EAAEE,SAAS,EAAEE,KAAK,CAAC;AACrC;AAACL,EAAA,CAtCuBF,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}